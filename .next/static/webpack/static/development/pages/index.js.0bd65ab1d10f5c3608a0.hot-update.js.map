{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.0bd65ab1d10f5c3608a0.hot-update.js","sources":["webpack:///./pages/index.jsx"],"sourcesContent":["import React from 'react';\r\nimport Head from 'next/head';\r\nimport axios from 'axios';\r\nimport Base from '../layouts/base';\r\nimport Link from 'next/link';\r\nimport Router from 'next/router'\r\nimport Movie from '../component/movie';\r\nimport FormMovies from '../component/FormMovies';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nexport default class OmdbMovies extends React.Component {\r\n\tstatic async getInitialProps({ query }) {\r\n\t\t/* const page = query.page ? Number(query.page) : 1; */\r\n\t\tconst responde = await axios.get(`http://www.omdbapi.com/?apikey=c9d02680&s=fast&page=1`);\r\n\t\tconst movies = responde.data.Search;\r\n\t\t\r\n\t\treturn { movies }\r\n\t}\r\n\r\n\tconstructor (props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tmovies: props.movies, \r\n\t\t\tsearch: \"fast\",\r\n\t\t\tpage: 1,\r\n\t\t}\r\n\r\n\t\tthis.handleAddMovies = this.handleAddMovies.bind(this);\t\r\n\t\tthis.handleToggleClick = this.handleToggleClick.bind(this);\r\n\t}\r\n\r\n\tasync handleToggleClick(e) {\r\n\t\tif (e.target.name == \"next\") {\r\n\t\t\tconst responde = await axios.get(`http://www.omdbapi.com/?apikey=c9d02680&s=${this.state.search}&page=${this.state.page}`);\r\n\t\t\tconst movies = responde.data.Search;\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tmovies: movies,\r\n\t\t\t\tpage: this.state.page + 1\r\n\t\t\t});\r\n\t\t} else {\r\n\r\n\t\t\tconst responde = await axios.get(`http://www.omdbapi.com/?apikey=c9d02680&s=${this.state.search}&page=${this.state.page}`);\r\n\t\t\tconst movies = responde.data.Search;\r\n\t\t\tthis.setState({\r\n\t\t\t\tmovies: movies,\r\n\t\t\t\tpage: this.state.page - 1\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\trenderPagination() {\r\n\t\tconst previous_state = this.state.page > 1 ?\r\n\t\t\t<button className=\"page-item\" name=\"previous\" onClick={this.handleToggleClick}>Previous</button> : null;\r\n\r\n\t\treturn (\r\n\t\t\t<nav aria-label=\"Page navigation example\">\r\n\t\t\t\t<ul className=\"pagination\">\r\n\t\t\t\t\t{ previous_state }\r\n\t\t\t\t\t<button className=\"page-item\" name=\"next\" onClick={this.handleToggleClick}>Next</button>\r\n\t\t\t\t</ul>\r\n\t\t\r\n\t\t\t\t<style>{`\r\n\t\t\t\t\t.pagination {\r\n\t\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\t}\r\n\t\t\t\t`}</style>\r\n\t\t\t</nav>\r\n\t\t)\r\n\t}\r\n\r\n\thandleAddMovies(movies, search) {\r\n\t\tthis.setState({\r\n\t\t\tmovies: movies,\r\n\t\t\tsearch: search,\r\n\t\t});\r\n\t/* \tRouter.push(`/`) */\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Base>\r\n\t\t\t\t<Head>\r\n\t\t\t\t\t<title>App Movie</title>\r\n\t\t\t\t</Head>\r\n\t\t\t\t\r\n\t\t\t\t<FormMovies onAddMovies={this.handleAddMovies}/>\r\n\t\t\t\t{ this.renderPagination() }\r\n\t\t\t\t<div className=\"movies\">\r\n\r\n\t\t\t\t\t{this.state.movies ? (\r\n\t\t\t\t\t\tthis.state.movies.map(movie => <Movie key={movie.imdbID} {...movie} />)\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<h2>Not Found Movie></h2>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t\r\n\t\t\t\t\t<style>{`\r\n\t\t\t\t\t\t.movies {\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t`}</style>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</Base>\r\n\t\t)\r\n\t}\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AACA;;AAEA;AACA;;AADA;AACA;AAEA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAMA;AACA;AATA;AAUA;AACA;;;;;;AACA;;;;;;;AACA;;;;;;AACA;AACA;;AADA;AACA;AAEA;AACA;AACA;AAFA;;;;;;AAMA;AACA;;AADA;AACA;AACA;AACA;AACA;AAFA;AACA;;;;;;;;;;;;;;;;;AAMA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;;;AAEA;AACA;AACA;AACA;AAFA;AAIA;AACA;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;AAnGA;AACA;;;;;A","sourceRoot":""}